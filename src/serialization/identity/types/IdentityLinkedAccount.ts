/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as serializers from "../..";
import { RivetIdentity } from "@fern-api/rivet-identity";
import * as core from "../../../core";

export const IdentityLinkedAccount: core.schemas.Schema<
  serializers.IdentityLinkedAccount.Raw,
  RivetIdentity.IdentityLinkedAccount
> = core.schemas
  .union("type", {
    email: core.schemas.lazyObject(async () => (await import("../..")).IdentityEmailLinkedAccount),
  })
  .transform<RivetIdentity.IdentityLinkedAccount>({
    parse: (value) => {
      switch (value.type) {
        case "email":
          return RivetIdentity.IdentityLinkedAccount.email(value);
        default:
          return RivetIdentity.IdentityLinkedAccount._unknown(value);
      }
    },
    json: (value) => value as any,
  });

export declare namespace IdentityLinkedAccount {
  type Raw = IdentityLinkedAccount.Email;

  interface Email extends serializers.IdentityEmailLinkedAccount.Raw {
    type: "email";
  }
}
